{"uid":"e70fc981d1e60e1d","name":"test_async_replication_failover_in_main_cluster","fullName":"tests.integration.ha_tests.test_async_replication#test_async_replication_failover_in_main_cluster","historyId":"0d36e96afab568171b86ef8e12ac0c4f","time":{"start":1719886386112,"stop":1719886467220,"duration":81108},"description":"Test that async replication fails over correctly.","descriptionHtml":"<p>Test that async replication fails over correctly.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1719883727731,"stop":1719883727732,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1719883727732,"stop":1719883727732,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1719883727732,"stop":1719883728054,"duration":322},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1719883728055,"stop":1719883729484,"duration":1429},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1719883728055,"stop":1719883728055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719886386109,"stop":1719886386110,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1719886386110,"stop":1719886386110,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that async replication fails over correctly.","status":"passed","steps":[],"attachments":[{"uid":"6b9ca4fc3db499da","name":"log","source":"6b9ca4fc3db499da.txt","type":"text/plain","size":1384}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1719886467223,"stop":1719886468265,"duration":1042},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1719886468268,"stop":1719886468268,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1719887422727,"stop":1719887422761,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1719887422763,"stop":1719887423426,"duration":663},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719887423428,"stop":1719887423429,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719887423429,"stop":1719887423429,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719887423429,"stop":1719887423431,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"large-529-acbe90e2f0e7c670bc4b8cd3"},{"name":"thread","value":"11408-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"13b45898b7e772ec","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":5,"broken":1,"skipped":1,"passed":18,"unknown":0,"total":25},"items":[{"uid":"9ad6617340497522","reportUrl":"../95//#testresult/9ad6617340497522","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1719799885165,"stop":1719799918465,"duration":33300}},{"uid":"b096810bb78862cc","reportUrl":"../94//#testresult/b096810bb78862cc","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1719713665357,"stop":1719713690990,"duration":25633}},{"uid":"89c5e59c5170a06c","reportUrl":"../93//#testresult/89c5e59c5170a06c","status":"passed","time":{"start":1719627024353,"stop":1719627097435,"duration":73082}},{"uid":"573e652a35916363","reportUrl":"../92//#testresult/573e652a35916363","status":"passed","time":{"start":1719540664940,"stop":1719540746124,"duration":81184}},{"uid":"d5efc2c4192e48fd","reportUrl":"../91//#testresult/d5efc2c4192e48fd","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1719454506441,"stop":1719454539815,"duration":33374}},{"uid":"23606f29ec2f8558","reportUrl":"../88//#testresult/23606f29ec2f8558","status":"passed","time":{"start":1719368218776,"stop":1719368256154,"duration":37378}},{"uid":"2b651c20b01f268","reportUrl":"../87//#testresult/2b651c20b01f268","status":"passed","time":{"start":1719281475964,"stop":1719281541302,"duration":65338}},{"uid":"ee6f0b3499c52acc","reportUrl":"../86//#testresult/ee6f0b3499c52acc","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1719196747166,"stop":1719196747166,"duration":0}},{"uid":"7dbf44d40021490","reportUrl":"../85//#testresult/7dbf44d40021490","status":"passed","time":{"start":1719109079803,"stop":1719109145691,"duration":65888}},{"uid":"e0c4c921e1e71686","reportUrl":"../84//#testresult/e0c4c921e1e71686","status":"passed","time":{"start":1719022617760,"stop":1719022679554,"duration":61794}},{"uid":"ab80e5e103fb2963","reportUrl":"../83//#testresult/ab80e5e103fb2963","status":"passed","time":{"start":1718936232723,"stop":1718936294712,"duration":61989}},{"uid":"2ca92a2a7893e0ef","reportUrl":"../82//#testresult/2ca92a2a7893e0ef","status":"passed","time":{"start":1718849854978,"stop":1718849916141,"duration":61163}},{"uid":"7883e5bbd54d6d6d","reportUrl":"../81//#testresult/7883e5bbd54d6d6d","status":"passed","time":{"start":1718763481577,"stop":1718763544850,"duration":63273}},{"uid":"2ae73a194e53a693","reportUrl":"../80//#testresult/2ae73a194e53a693","status":"passed","time":{"start":1718677225492,"stop":1718677289382,"duration":63890}},{"uid":"24a1ea9938e7a806","reportUrl":"../79//#testresult/24a1ea9938e7a806","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/1","time":{"start":1718590527225,"stop":1718590541498,"duration":14273}},{"uid":"3a69f9accd279e35","reportUrl":"../78//#testresult/3a69f9accd279e35","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-1' != 'postgresql-1'","time":{"start":1718504269188,"stop":1718504296998,"duration":27810}},{"uid":"1bceec7760472f97","reportUrl":"../77//#testresult/1bceec7760472f97","status":"passed","time":{"start":1718418032245,"stop":1718418102723,"duration":70478}},{"uid":"b88a8d8496134542","reportUrl":"../76//#testresult/b88a8d8496134542","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-0' != 'postgresql-0'","time":{"start":1718331268192,"stop":1718331292870,"duration":24678}},{"uid":"f730a1822ea3d8b3","reportUrl":"../75//#testresult/f730a1822ea3d8b3","status":"passed","time":{"start":1718245916768,"stop":1718245980446,"duration":63678}},{"uid":"92e118ae9ac8e3b7","reportUrl":"../74//#testresult/92e118ae9ac8e3b7","status":"passed","time":{"start":1718159314082,"stop":1718159371879,"duration":57797}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"e70fc981d1e60e1d.json","parameterValues":[]}