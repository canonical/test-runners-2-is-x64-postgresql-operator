{"uid":"5bf1bb6ccfd775c5","name":"test_restart_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"5275b7647c50948f92e67ea83d5d7646","time":{"start":1720317685819,"stop":1720317719273,"duration":33454},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1720316035938,"stop":1720316035939,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1720316035939,"stop":1720316036287,"duration":348},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1720316035939,"stop":1720316035939,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1720317281006,"stop":1720317285219,"duration":4213},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1720317685818,"stop":1720317685818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1720317685819,"stop":1720317685819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"32c212f2f8d54c63","name":"log","source":"32c212f2f8d54c63.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1720317719274,"stop":1720317720323,"duration":1049},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1720317720324,"stop":1720317720324,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1720319392347,"stop":1720319525948,"duration":133601},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x743178cd5a20 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/ubuntu/github-runner/_work/test-runners-2-is-x64-postgresql-operator/test-runners-2-is-x64-postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/test-runners-2-is-x64-postgresql-operator/test-runners-2-is-x64-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/test-runners-2-is-x64-postgresql-operator/test-runners-2-is-x64-postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/ubuntu/github-runner/_work/test-runners-2-is-x64-postgresql-operator/test-runners-2-is-x64-postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/ubuntu/github-runner/_work/test-runners-2-is-x64-postgresql-operator/test-runners-2-is-x64-postgresql-operator/tests/integration/ha_tests/helpers.py\", line 148, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/ubuntu/github-runner/_work/test-runners-2-is-x64-postgresql-operator/test-runners-2-is-x64-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 437, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/ubuntu/github-runner/_work/test-runners-2-is-x64-postgresql-operator/test-runners-2-is-x64-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 370, in iter\n    result = action(retry_state)\n  File \"/home/ubuntu/github-runner/_work/test-runners-2-is-x64-postgresql-operator/test-runners-2-is-x64-postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 413, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1720319525969,"stop":1720319527289,"duration":1320},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1720319527296,"stop":1720319527298,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1720319527298,"stop":1720319527298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1720319527298,"stop":1720319527300,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"large-540-b5b12efdcab707049b248bb0"},{"name":"thread","value":"13933-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c579f55b5a4abb3d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":2,"skipped":0,"passed":24,"unknown":2,"total":30},"items":[{"uid":"e6a6d35fa1a0bc31","reportUrl":"../100//#testresult/e6a6d35fa1a0bc31","status":"passed","time":{"start":1720231418582,"stop":1720231446771,"duration":28189}},{"uid":"dfb651910ed1754","reportUrl":"../99//#testresult/dfb651910ed1754","status":"passed","time":{"start":1720144830062,"stop":1720144866882,"duration":36820}},{"uid":"e1cf7374152a7146","reportUrl":"../98//#testresult/e1cf7374152a7146","status":"unknown","time":{}},{"uid":"50d36ac6e0a37b30","reportUrl":"../97//#testresult/50d36ac6e0a37b30","status":"passed","time":{"start":1719971847817,"stop":1719971881403,"duration":33586}},{"uid":"a7546ec5ff85bd5f","reportUrl":"../96//#testresult/a7546ec5ff85bd5f","status":"passed","time":{"start":1719885419336,"stop":1719885445064,"duration":25728}},{"uid":"73fef34089c1d5e","reportUrl":"../95//#testresult/73fef34089c1d5e","status":"passed","time":{"start":1719798767447,"stop":1719798797573,"duration":30126}},{"uid":"73a71b9068891358","reportUrl":"../94//#testresult/73a71b9068891358","status":"passed","time":{"start":1719712993529,"stop":1719713025284,"duration":31755}},{"uid":"bab4638fbe9a110d","reportUrl":"../93//#testresult/bab4638fbe9a110d","status":"passed","time":{"start":1719626156586,"stop":1719626192945,"duration":36359}},{"uid":"4e5e6d22fc475a10","reportUrl":"../92//#testresult/4e5e6d22fc475a10","status":"passed","time":{"start":1719539963459,"stop":1719539996332,"duration":32873}},{"uid":"7505b0b56afd04b","reportUrl":"../91//#testresult/7505b0b56afd04b","status":"passed","time":{"start":1719453444073,"stop":1719453471616,"duration":27543}},{"uid":"70dadf5013eaf6ed","reportUrl":"../88//#testresult/70dadf5013eaf6ed","status":"passed","time":{"start":1719367018288,"stop":1719367045827,"duration":27539}},{"uid":"743bb7a41e3aa89d","reportUrl":"../87//#testresult/743bb7a41e3aa89d","status":"passed","time":{"start":1719280707092,"stop":1719280742649,"duration":35557}},{"uid":"bb3c6e7c1cf50ec8","reportUrl":"../86//#testresult/bb3c6e7c1cf50ec8","status":"passed","time":{"start":1719194461103,"stop":1719194486891,"duration":25788}},{"uid":"14504d53dd74c22a","reportUrl":"../85//#testresult/14504d53dd74c22a","status":"passed","time":{"start":1719107895625,"stop":1719107918440,"duration":22815}},{"uid":"b4d20f0306c82ba2","reportUrl":"../84//#testresult/b4d20f0306c82ba2","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x735ba624c820 state=finished raised AssertionError>]","time":{"start":1719023201382,"stop":1719023386041,"duration":184659}},{"uid":"ebd04435b2734a2b","reportUrl":"../83//#testresult/ebd04435b2734a2b","status":"failed","statusDetails":"AssertionError: Unable to create continuous_writes table","time":{"start":1718936725591,"stop":1718937031453,"duration":305862}},{"uid":"551511205d4ead8a","reportUrl":"../82//#testresult/551511205d4ead8a","status":"passed","time":{"start":1718848804560,"stop":1718848836453,"duration":31893}},{"uid":"5da4314dfbda2691","reportUrl":"../81//#testresult/5da4314dfbda2691","status":"passed","time":{"start":1718762212870,"stop":1718762240666,"duration":27796}},{"uid":"2928798463485855","reportUrl":"../80//#testresult/2928798463485855","status":"passed","time":{"start":1718676370162,"stop":1718676399178,"duration":29016}},{"uid":"c5cae5b3933a3096","reportUrl":"../79//#testresult/c5cae5b3933a3096","status":"passed","time":{"start":1718589631785,"stop":1718589662105,"duration":30320}}]},"tags":["asyncio","group(1)"]},"source":"5bf1bb6ccfd775c5.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}