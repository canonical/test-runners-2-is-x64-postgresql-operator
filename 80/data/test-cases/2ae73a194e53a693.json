{"uid":"2ae73a194e53a693","name":"test_async_replication_failover_in_main_cluster","fullName":"tests.integration.ha_tests.test_async_replication#test_async_replication_failover_in_main_cluster","historyId":"0d36e96afab568171b86ef8e12ac0c4f","time":{"start":1718677225492,"stop":1718677289382,"duration":63890},"description":"Test that async replication fails over correctly.","descriptionHtml":"<p>Test that async replication fails over correctly.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1718674215853,"stop":1718674215853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1718674215853,"stop":1718674216060,"duration":207},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1718674215853,"stop":1718674215853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1718674216060,"stop":1718674216060,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1718674216060,"stop":1718674217123,"duration":1063},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1718677225491,"stop":1718677225491,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1718677225492,"stop":1718677225492,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that async replication fails over correctly.","status":"passed","steps":[],"attachments":[{"uid":"3deee7445421669f","name":"log","source":"3deee7445421669f.txt","type":"text/plain","size":1410}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1718677289384,"stop":1718677290419,"duration":1035},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1718677290420,"stop":1718677290420,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1718678314466,"stop":1718678314498,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1718678314499,"stop":1718678315238,"duration":739},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1718678315240,"stop":1718678315241,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1718678315241,"stop":1718678315241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1718678315241,"stop":1718678315241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"large-437-9f2b5671962f11be0ea67208"},{"name":"thread","value":"8963-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3b58b9d5388cc556","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":1,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"24a1ea9938e7a806","reportUrl":"../79//#testresult/24a1ea9938e7a806","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/1","time":{"start":1718590527225,"stop":1718590541498,"duration":14273}},{"uid":"3a69f9accd279e35","reportUrl":"../78//#testresult/3a69f9accd279e35","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-1' != 'postgresql-1'","time":{"start":1718504269188,"stop":1718504296998,"duration":27810}},{"uid":"1bceec7760472f97","reportUrl":"../77//#testresult/1bceec7760472f97","status":"passed","time":{"start":1718418032245,"stop":1718418102723,"duration":70478}},{"uid":"b88a8d8496134542","reportUrl":"../76//#testresult/b88a8d8496134542","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-0' != 'postgresql-0'","time":{"start":1718331268192,"stop":1718331292870,"duration":24678}},{"uid":"f730a1822ea3d8b3","reportUrl":"../75//#testresult/f730a1822ea3d8b3","status":"passed","time":{"start":1718245916768,"stop":1718245980446,"duration":63678}},{"uid":"92e118ae9ac8e3b7","reportUrl":"../74//#testresult/92e118ae9ac8e3b7","status":"passed","time":{"start":1718159314082,"stop":1718159371879,"duration":57797}},{"uid":"1f9332df8ab8eb26","reportUrl":"../73//#testresult/1f9332df8ab8eb26","status":"passed","time":{"start":1718073098051,"stop":1718073142965,"duration":44914}},{"uid":"827a62bb422e767f","reportUrl":"../72//#testresult/827a62bb422e767f","status":"passed","time":{"start":1717986108146,"stop":1717986172278,"duration":64132}},{"uid":"b4a151f1de474fcb","reportUrl":"../71//#testresult/b4a151f1de474fcb","status":"passed","time":{"start":1717899963358,"stop":1717900032665,"duration":69307}},{"uid":"a801a94d14fa561d","reportUrl":"../70//#testresult/a801a94d14fa561d","status":"passed","time":{"start":1717813527483,"stop":1717813603041,"duration":75558}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"2ae73a194e53a693.json","parameterValues":[]}